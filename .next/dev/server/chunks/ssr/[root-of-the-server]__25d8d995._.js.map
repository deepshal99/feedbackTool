{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/lib/supabase.ts"],"sourcesContent":["\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseKey)\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uLAAY,EAAC,aAAa"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/hooks/useProjectsStore.ts"],"sourcesContent":["'use client';\n\nimport { create } from 'zustand';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Project, Comment, DeviceMode, CommentType } from '@/types';\nimport { supabase } from '@/lib/supabase';\n\ninterface AddCommentParams {\n    type: CommentType;\n    xPct: number;\n    yPct: number;\n    widthPct?: number;\n    heightPct?: number;\n    deviceMode: DeviceMode;\n}\n\ninterface ProjectsState {\n    projects: Project[];\n    initialized: boolean;\n\n    // Actions\n    initializeStore: () => Promise<void>;\n    addProject: (url: string) => Promise<string>;\n    getProject: (id: string) => Project | undefined;\n    deleteProject: (id: string) => Promise<void>;\n    addComment: (projectId: string, params: AddCommentParams) => Promise<string>;\n    updateComment: (projectId: string, commentId: string, text: string) => Promise<void>;\n    moveComment: (projectId: string, commentId: string, xPct: number, yPct: number) => Promise<void>;\n    toggleResolvedViewer: (projectId: string, commentId: string) => Promise<void>;\n    toggleResolvedCommenter: (projectId: string, commentId: string) => Promise<void>;\n    deleteComment: (projectId: string, commentId: string) => Promise<void>;\n    // Deprecated but kept for type compatibility if needed\n    toggleResolved: (projectId: string, commentId: string) => Promise<void>;\n}\n\n// Helper to map DB comments to Frontend comments\nconst mapComment = (c: any): Comment => ({\n    id: c.id,\n    type: c.type as CommentType,\n    xPct: c.x_pct,\n    yPct: c.y_pct,\n    widthPct: c.width_pct,\n    heightPct: c.height_pct,\n    text: c.text || '',\n    deviceMode: c.device_mode as DeviceMode,\n    createdAt: c.created_at,\n    isResolved: c.is_resolved, // Keep for backward compat\n    resolvedByViewer: c.resolved_by_viewer,\n    resolvedByCommenter: c.resolved_by_commenter,\n});\n\nexport const useProjectsStore = create<ProjectsState>((set, get) => ({\n    projects: [],\n    initialized: false,\n\n    initializeStore: async () => {\n        if (get().initialized) return;\n\n        const fetchProjects = async () => {\n            const { data, error } = await supabase\n                .from('projects')\n                .select('*, comments(*)');\n\n            if (error) {\n                console.error('Failed to load projects:', error);\n                return;\n            }\n\n            const projects: Project[] = data.map((p: any) => ({\n                id: p.id,\n                url: p.url,\n                createdAt: p.created_at,\n                updatedAt: p.updated_at,\n                comments: (p.comments || []).map(mapComment),\n            }));\n\n            set({ projects, initialized: true });\n        };\n\n        await fetchProjects();\n\n        // Real-time subscription\n        supabase.channel('custom-all-channel')\n            .on(\n                'postgres_changes',\n                { event: '*', schema: 'public', table: 'comments' },\n                (payload) => {\n                    const state = get();\n                    const { eventType, new: newRecord, old: oldRecord } = payload;\n\n                    if (eventType === 'INSERT') {\n                        const projectId = newRecord.project_id;\n                        const newComment = mapComment(newRecord);\n\n                        set({\n                            projects: state.projects.map(p => {\n                                if (p.id !== projectId) return p;\n                                // Avoid duplicate inserts if local optimistic update already added it\n                                if (p.comments.some(c => c.id === newComment.id)) return p;\n                                return {\n                                    ...p,\n                                    comments: [...p.comments, newComment],\n                                    updatedAt: new Date().toISOString(),\n                                };\n                            })\n                        });\n                    } else if (eventType === 'UPDATE') {\n                        const projectId = newRecord.project_id;\n                        const updatedComment = mapComment(newRecord);\n\n                        set({\n                            projects: state.projects.map(p => {\n                                if (p.id !== projectId) return p;\n                                return {\n                                    ...p,\n                                    comments: p.comments.map(c =>\n                                        c.id === updatedComment.id ? updatedComment : c\n                                    ),\n                                    updatedAt: new Date().toISOString(),\n                                };\n                            })\n                        });\n                    } else if (eventType === 'DELETE') {\n                        // We need to find which project had this comment to update nicely,\n                        // but easier to just scan all projects since comment IDs are unique\n                        set({\n                            projects: state.projects.map(p => ({\n                                ...p,\n                                comments: p.comments.filter(c => c.id !== oldRecord.id)\n                            }))\n                        });\n                    }\n                }\n            )\n            .subscribe();\n    },\n\n    addProject: async (url: string) => {\n        const existingProject = get().projects.find(p => p.url === url);\n        if (existingProject) {\n            return existingProject.id;\n        }\n\n        const id = uuidv4();\n        const newProject: Project = {\n            id,\n            url,\n            comments: [],\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString(),\n        };\n\n        // Optimistic update\n        set(state => ({ projects: [newProject, ...state.projects] }));\n\n        const { error } = await supabase.from('projects').insert({\n            id,\n            url,\n        });\n\n        if (error) {\n            console.error('Failed to create project:', error);\n            // Revert on error? For now, we keep it simple.\n        }\n\n        return id;\n    },\n\n    getProject: (id: string) => {\n        return get().projects.find(p => p.id === id);\n    },\n\n    deleteProject: async (id: string) => {\n        set(state => ({\n            projects: state.projects.filter(p => p.id !== id)\n        }));\n\n        await supabase.from('projects').delete().eq('id', id);\n    },\n\n    addComment: async (projectId: string, params: AddCommentParams) => {\n        const commentId = uuidv4();\n\n        const newComment: Comment = {\n            id: commentId,\n            type: params.type,\n            xPct: params.xPct,\n            yPct: params.yPct,\n            widthPct: params.widthPct,\n            heightPct: params.heightPct,\n            text: '',\n            deviceMode: params.deviceMode,\n            createdAt: new Date().toISOString(),\n            isResolved: false,\n        };\n\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: [...project.comments, newComment],\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').insert({\n            id: commentId,\n            project_id: projectId,\n            type: params.type,\n            x_pct: params.xPct,\n            y_pct: params.yPct,\n            width_pct: params.widthPct,\n            height_pct: params.heightPct,\n            text: '',\n            device_mode: params.deviceMode,\n            is_resolved: false,\n        });\n\n        return commentId;\n    },\n\n    updateComment: async (projectId: string, commentId: string, text: string) => {\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: project.comments.map(comment =>\n                        comment.id === commentId ? { ...comment, text } : comment\n                    ),\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').update({ text }).eq('id', commentId);\n    },\n\n    moveComment: async (projectId: string, commentId: string, xPct: number, yPct: number) => {\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: project.comments.map(comment =>\n                        comment.id === commentId ? { ...comment, xPct, yPct } : comment\n                    ),\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').update({ x_pct: xPct, y_pct: yPct }).eq('id', commentId);\n    },\n\n    toggleResolvedViewer: async (projectId: string, commentId: string) => {\n        const project = get().projects.find(p => p.id === projectId);\n        const comment = project?.comments.find(c => c.id === commentId);\n        if (!comment) return;\n\n        const newState = !comment.resolvedByViewer;\n\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: project.comments.map(c =>\n                        c.id === commentId ? { ...c, resolvedByViewer: newState } : c\n                    ),\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').update({ resolved_by_viewer: newState }).eq('id', commentId);\n    },\n\n    toggleResolvedCommenter: async (projectId: string, commentId: string) => {\n        const project = get().projects.find(p => p.id === projectId);\n        const comment = project?.comments.find(c => c.id === commentId);\n        if (!comment) return;\n\n        const newState = !comment.resolvedByCommenter;\n\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: project.comments.map(c =>\n                        c.id === commentId ? { ...c, resolvedByCommenter: newState } : c\n                    ),\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').update({ resolved_by_commenter: newState }).eq('id', commentId);\n    },\n\n    toggleResolved: async (projectId: string, commentId: string) => {\n        // Legacy support - maps to viewer resolved for now\n        const project = get().projects.find(p => p.id === projectId);\n        const comment = project?.comments.find(c => c.id === commentId);\n        if (!comment) return;\n\n        const newState = !comment.resolvedByViewer;\n        get().toggleResolvedViewer(projectId, commentId);\n    },\n\n    deleteComment: async (projectId: string, commentId: string) => {\n        set(state => ({\n            projects: state.projects.map(project => {\n                if (project.id !== projectId) return project;\n                return {\n                    ...project,\n                    comments: project.comments.filter(c => c.id !== commentId),\n                    updatedAt: new Date().toISOString(),\n                };\n            })\n        }));\n\n        await supabase.from('comments').delete().eq('id', commentId);\n    },\n}));\n\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;AAmCA,iDAAiD;AACjD,MAAM,aAAa,CAAC,IAAoB,CAAC;QACrC,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,KAAK;QACb,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,SAAS;QACrB,WAAW,EAAE,UAAU;QACvB,MAAM,EAAE,IAAI,IAAI;QAChB,YAAY,EAAE,WAAW;QACzB,WAAW,EAAE,UAAU;QACvB,YAAY,EAAE,WAAW;QACzB,kBAAkB,EAAE,kBAAkB;QACtC,qBAAqB,EAAE,qBAAqB;IAChD,CAAC;AAEM,MAAM,mBAAmB,IAAA,kJAAM,EAAgB,CAAC,KAAK,MAAQ,CAAC;QACjE,UAAU,EAAE;QACZ,aAAa;QAEb,iBAAiB;YACb,IAAI,MAAM,WAAW,EAAE;YAEvB,MAAM,gBAAgB;gBAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACjC,IAAI,CAAC,YACL,MAAM,CAAC;gBAEZ,IAAI,OAAO;oBACP,QAAQ,KAAK,CAAC,4BAA4B;oBAC1C;gBACJ;gBAEA,MAAM,WAAsB,KAAK,GAAG,CAAC,CAAC,IAAW,CAAC;wBAC9C,IAAI,EAAE,EAAE;wBACR,KAAK,EAAE,GAAG;wBACV,WAAW,EAAE,UAAU;wBACvB,WAAW,EAAE,UAAU;wBACvB,UAAU,CAAC,EAAE,QAAQ,IAAI,EAAE,EAAE,GAAG,CAAC;oBACrC,CAAC;gBAED,IAAI;oBAAE;oBAAU,aAAa;gBAAK;YACtC;YAEA,MAAM;YAEN,yBAAyB;YACzB,2HAAQ,CAAC,OAAO,CAAC,sBACZ,EAAE,CACC,oBACA;gBAAE,OAAO;gBAAK,QAAQ;gBAAU,OAAO;YAAW,GAClD,CAAC;gBACG,MAAM,QAAQ;gBACd,MAAM,EAAE,SAAS,EAAE,KAAK,SAAS,EAAE,KAAK,SAAS,EAAE,GAAG;gBAEtD,IAAI,cAAc,UAAU;oBACxB,MAAM,YAAY,UAAU,UAAU;oBACtC,MAAM,aAAa,WAAW;oBAE9B,IAAI;wBACA,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;4BACzB,IAAI,EAAE,EAAE,KAAK,WAAW,OAAO;4BAC/B,sEAAsE;4BACtE,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,EAAE,GAAG,OAAO;4BACzD,OAAO;gCACH,GAAG,CAAC;gCACJ,UAAU;uCAAI,EAAE,QAAQ;oCAAE;iCAAW;gCACrC,WAAW,IAAI,OAAO,WAAW;4BACrC;wBACJ;oBACJ;gBACJ,OAAO,IAAI,cAAc,UAAU;oBAC/B,MAAM,YAAY,UAAU,UAAU;oBACtC,MAAM,iBAAiB,WAAW;oBAElC,IAAI;wBACA,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;4BACzB,IAAI,EAAE,EAAE,KAAK,WAAW,OAAO;4BAC/B,OAAO;gCACH,GAAG,CAAC;gCACJ,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA,IACrB,EAAE,EAAE,KAAK,eAAe,EAAE,GAAG,iBAAiB;gCAElD,WAAW,IAAI,OAAO,WAAW;4BACrC;wBACJ;oBACJ;gBACJ,OAAO,IAAI,cAAc,UAAU;oBAC/B,mEAAmE;oBACnE,oEAAoE;oBACpE,IAAI;wBACA,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;gCAC/B,GAAG,CAAC;gCACJ,UAAU,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,UAAU,EAAE;4BAC1D,CAAC;oBACL;gBACJ;YACJ,GAEH,SAAS;QAClB;QAEA,YAAY,OAAO;YACf,MAAM,kBAAkB,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;YAC3D,IAAI,iBAAiB;gBACjB,OAAO,gBAAgB,EAAE;YAC7B;YAEA,MAAM,KAAK,IAAA,iLAAM;YACjB,MAAM,aAAsB;gBACxB;gBACA;gBACA,UAAU,EAAE;gBACZ,WAAW,IAAI,OAAO,WAAW;gBACjC,WAAW,IAAI,OAAO,WAAW;YACrC;YAEA,oBAAoB;YACpB,IAAI,CAAA,QAAS,CAAC;oBAAE,UAAU;wBAAC;2BAAe,MAAM,QAAQ;qBAAC;gBAAC,CAAC;YAE3D,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBACrD;gBACA;YACJ;YAEA,IAAI,OAAO;gBACP,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,+CAA+C;YACnD;YAEA,OAAO;QACX;QAEA,YAAY,CAAC;YACT,OAAO,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QAC7C;QAEA,eAAe,OAAO;YAClB,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBAClD,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,GAAG,EAAE,CAAC,MAAM;QACtD;QAEA,YAAY,OAAO,WAAmB;YAClC,MAAM,YAAY,IAAA,iLAAM;YAExB,MAAM,aAAsB;gBACxB,IAAI;gBACJ,MAAM,OAAO,IAAI;gBACjB,MAAM,OAAO,IAAI;gBACjB,MAAM,OAAO,IAAI;gBACjB,UAAU,OAAO,QAAQ;gBACzB,WAAW,OAAO,SAAS;gBAC3B,MAAM;gBACN,YAAY,OAAO,UAAU;gBAC7B,WAAW,IAAI,OAAO,WAAW;gBACjC,YAAY;YAChB;YAEA,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU;mCAAI,QAAQ,QAAQ;gCAAE;6BAAW;4BAC3C,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBACnC,IAAI;gBACJ,YAAY;gBACZ,MAAM,OAAO,IAAI;gBACjB,OAAO,OAAO,IAAI;gBAClB,OAAO,OAAO,IAAI;gBAClB,WAAW,OAAO,QAAQ;gBAC1B,YAAY,OAAO,SAAS;gBAC5B,MAAM;gBACN,aAAa,OAAO,UAAU;gBAC9B,aAAa;YACjB;YAEA,OAAO;QACX;QAEA,eAAe,OAAO,WAAmB,WAAmB;YACxD,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAA,UAC3B,QAAQ,EAAE,KAAK,YAAY;oCAAE,GAAG,OAAO;oCAAE;gCAAK,IAAI;4BAEtD,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBAAE;YAAK,GAAG,EAAE,CAAC,MAAM;QAC9D;QAEA,aAAa,OAAO,WAAmB,WAAmB,MAAc;YACpE,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAA,UAC3B,QAAQ,EAAE,KAAK,YAAY;oCAAE,GAAG,OAAO;oCAAE;oCAAM;gCAAK,IAAI;4BAE5D,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBAAE,OAAO;gBAAM,OAAO;YAAK,GAAG,EAAE,CAAC,MAAM;QAClF;QAEA,sBAAsB,OAAO,WAAmB;YAC5C,MAAM,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAClD,MAAM,UAAU,SAAS,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;YACrD,IAAI,CAAC,SAAS;YAEd,MAAM,WAAW,CAAC,QAAQ,gBAAgB;YAE1C,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAA,IAC3B,EAAE,EAAE,KAAK,YAAY;oCAAE,GAAG,CAAC;oCAAE,kBAAkB;gCAAS,IAAI;4BAEhE,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBAAE,oBAAoB;YAAS,GAAG,EAAE,CAAC,MAAM;QACtF;QAEA,yBAAyB,OAAO,WAAmB;YAC/C,MAAM,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAClD,MAAM,UAAU,SAAS,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;YACrD,IAAI,CAAC,SAAS;YAEd,MAAM,WAAW,CAAC,QAAQ,mBAAmB;YAE7C,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAA,IAC3B,EAAE,EAAE,KAAK,YAAY;oCAAE,GAAG,CAAC;oCAAE,qBAAqB;gCAAS,IAAI;4BAEnE,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;gBAAE,uBAAuB;YAAS,GAAG,EAAE,CAAC,MAAM;QACzF;QAEA,gBAAgB,OAAO,WAAmB;YACtC,mDAAmD;YACnD,MAAM,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAClD,MAAM,UAAU,SAAS,SAAS,KAAK,CAAA,IAAK,EAAE,EAAE,KAAK;YACrD,IAAI,CAAC,SAAS;YAEd,MAAM,WAAW,CAAC,QAAQ,gBAAgB;YAC1C,MAAM,oBAAoB,CAAC,WAAW;QAC1C;QAEA,eAAe,OAAO,WAAmB;YACrC,IAAI,CAAA,QAAS,CAAC;oBACV,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA;wBACzB,IAAI,QAAQ,EAAE,KAAK,WAAW,OAAO;wBACrC,OAAO;4BACH,GAAG,OAAO;4BACV,UAAU,QAAQ,QAAQ,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;4BAChD,WAAW,IAAI,OAAO,WAAW;wBACrC;oBACJ;gBACJ,CAAC;YAED,MAAM,2HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,GAAG,EAAE,CAAC,MAAM;QACtD;IACJ,CAAC"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,aAAa,EACpB,GAAG,OACqD;IACxD,qBAAO,8OAAC,oLAA0B;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,8OAAC,sLAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;AAEA,SAAS,oBAAoB,EAC3B,GAAG,OACwD;IAC3D,qBACE,8OAAC,uLAA6B;QAC5B,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,oBAAoB,EAC3B,SAAS,EACT,aAAa,CAAC,EACd,GAAG,OACwD;IAC3D,qBACE,8OAAC,sLAA4B;kBAC3B,cAAA,8OAAC,uLAA6B;YAC5B,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,kHAAE,EACX,0jBACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,8OAAC,qLAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,KAAK,EACL,UAAU,SAAS,EACnB,GAAG,OAIJ;IACC,qBACE,8OAAC,oLAA0B;QACzB,aAAU;QACV,cAAY;QACZ,gBAAc;QACd,WAAW,IAAA,kHAAE,EACX,+mBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,yBAAyB,EAChC,SAAS,EACT,QAAQ,EACR,OAAO,EACP,GAAG,OAC6D;IAChE,qBACE,8OAAC,4LAAkC;QACjC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,gTACA;QAEF,SAAS;QACR,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,6LAAmC;8BAClC,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGxB;;;;;;;AAGP;AAEA,SAAS,uBAAuB,EAC9B,GAAG,OAC2D;IAC9D,qBACE,8OAAC,0LAAgC;QAC/B,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,sBAAsB,EAC7B,SAAS,EACT,QAAQ,EACR,GAAG,OAC0D;IAC7D,qBACE,8OAAC,yLAA+B;QAC9B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,gTACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,6LAAmC;8BAClC,cAAA,8OAAC,wNAAU;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGzB;;;;;;;AAGP;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,KAAK,EACL,GAAG,OAGJ;IACC,qBACE,8OAAC,qLAA2B;QAC1B,aAAU;QACV,cAAY;QACZ,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,sBAAsB,EAC7B,SAAS,EACT,GAAG,OAC0D;IAC7D,qBACE,8OAAC,yLAA+B;QAC9B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EACvB,GAAG,OACoD;IACvD,qBAAO,8OAAC,mLAAyB;QAAC,aAAU;QAAqB,GAAG,KAAK;;;;;;AAC3E;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,KAAK,EACL,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,0LAAgC;QAC/B,aAAU;QACV,cAAY;QACZ,WAAW,IAAA,kHAAE,EACX,8WACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,8OAAgB;gBAAC,WAAU;;;;;;;;;;;;AAGlC;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,0LAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ifACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,ijBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,GAAG,OAEgC;IACnC,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/types/index.ts"],"sourcesContent":["export type DeviceMode = 'desktop' | 'tablet' | 'mobile';\n\nexport type CommentType = 'pin' | 'area';\n\nexport interface Comment {\n    id: string;\n    type: CommentType;\n    xPct: number;\n    yPct: number;\n    // For area selections\n    widthPct?: number;\n    heightPct?: number;\n    text: string;\n    deviceMode: DeviceMode;\n    createdAt: string;\n    isResolved?: boolean; // Deprecated\n    resolvedByViewer?: boolean;\n    resolvedByCommenter?: boolean;\n}\n\nexport interface Project {\n    id: string;\n    url: string;\n    comments: Comment[];\n    updatedAt: string;\n    createdAt: string;\n}\n\nexport const DEVICE_WIDTHS: Record<DeviceMode, number> = {\n    desktop: 1440,\n    tablet: 1024,\n    mobile: 390,\n};\n\nexport const DEVICE_LABELS: Record<DeviceMode, string> = {\n    desktop: 'Desktop (1440px)',\n    tablet: 'Tablet (1024px)',\n    mobile: 'Mobile (390px)',\n};\n\n\n"],"names":[],"mappings":";;;;;;AA4BO,MAAM,gBAA4C;IACrD,SAAS;IACT,QAAQ;IACR,QAAQ;AACZ;AAEO,MAAM,gBAA4C;IACrD,SAAS;IACT,QAAQ;IACR,QAAQ;AACZ"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/review/TopBar.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { Button } from '@/components/ui/button';\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Toggle } from '@/components/ui/toggle';\nimport { DeviceMode, DEVICE_LABELS } from '@/types';\nimport { ArrowLeft, Monitor, Tablet, Smartphone, MessageSquare, Eye, ChevronDown, Share2 } from 'lucide-react';\n\ninterface TopBarProps {\n    url: string;\n    deviceMode: DeviceMode;\n    onDeviceModeChange: (mode: DeviceMode) => void;\n    isCommentMode: boolean;\n    onCommentModeChange: (enabled: boolean) => void;\n    commentsCount: number;\n    isSharedView?: boolean;\n    onShare?: () => void;\n}\n\nconst DEVICE_ICONS: Record<DeviceMode, React.ReactNode> = {\n    desktop: <Monitor className=\"h-4 w-4\" />,\n    tablet: <Tablet className=\"h-4 w-4\" />,\n    mobile: <Smartphone className=\"h-4 w-4\" />,\n};\n\nexport function TopBar({\n    url,\n    deviceMode,\n    onDeviceModeChange,\n    isCommentMode,\n    onCommentModeChange,\n    commentsCount,\n    isSharedView = false,\n    onShare,\n}: TopBarProps) {\n    const router = useRouter();\n\n    const handleBack = () => {\n        router.push('/');\n    };\n\n    const truncatedUrl = url.length > 50 ? url.slice(0, 50) + '...' : url;\n\n    return (\n        <header className=\"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50\">\n            <div className=\"container mx-auto px-4 py-3\">\n                <div className=\"flex items-center justify-between gap-4\">\n                    <div className=\"flex items-center gap-4 min-w-0\">\n                        <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n                            <ArrowLeft className=\"h-4 w-4\" />\n                        </Button>\n                        <span className=\"text-sm text-muted-foreground truncate\" title={url}>\n                            {truncatedUrl}\n                        </span>\n                        {isSharedView && (\n                            <span className=\"text-xs bg-muted px-2 py-0.5 rounded-full text-muted-foreground\">\n                                Shared View\n                            </span>\n                        )}\n                    </div>\n\n                    <div className=\"flex items-center gap-2\">\n                        {/* Device Selector */}\n                        <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                                <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n                                    {DEVICE_ICONS[deviceMode]}\n                                    <span className=\"hidden sm:inline\">{deviceMode.charAt(0).toUpperCase() + deviceMode.slice(1)}</span>\n                                    <ChevronDown className=\"h-3 w-3\" />\n                                </Button>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent align=\"end\">\n                                {(Object.keys(DEVICE_LABELS) as DeviceMode[]).map((mode) => (\n                                    <DropdownMenuItem\n                                        key={mode}\n                                        onClick={() => onDeviceModeChange(mode)}\n                                        className=\"gap-2\"\n                                    >\n                                        {DEVICE_ICONS[mode]}\n                                        {DEVICE_LABELS[mode]}\n                                    </DropdownMenuItem>\n                                ))}\n                            </DropdownMenuContent>\n                        </DropdownMenu>\n\n                        {/* Mode Toggle - hidden in shared view */}\n                        {!isSharedView && (\n                            <div className=\"flex items-center border rounded-md\">\n                                <Toggle\n                                    pressed={!isCommentMode}\n                                    onPressedChange={() => onCommentModeChange(false)}\n                                    size=\"sm\"\n                                    className=\"rounded-r-none border-0 data-[state=on]:bg-muted\"\n                                >\n                                    <Eye className=\"h-4 w-4 mr-1\" />\n                                    <span className=\"hidden sm:inline\">View</span>\n                                </Toggle>\n                                <Toggle\n                                    pressed={isCommentMode}\n                                    onPressedChange={() => onCommentModeChange(true)}\n                                    size=\"sm\"\n                                    className=\"rounded-l-none border-0 data-[state=on]:bg-muted\"\n                                >\n                                    <MessageSquare className=\"h-4 w-4 mr-1\" />\n                                    <span className=\"hidden sm:inline\">Comment</span>\n                                </Toggle>\n                            </div>\n                        )}\n\n                        {/* Share button - hidden in shared view */}\n                        {!isSharedView && onShare && (\n                            <Button variant=\"outline\" size=\"sm\" onClick={onShare} className=\"gap-2\">\n                                <Share2 className=\"h-4 w-4\" />\n                                <span className=\"hidden sm:inline\">Share</span>\n                            </Button>\n                        )}\n\n                        {/* Comments count badge */}\n                        <div className=\"text-sm text-muted-foreground\">\n                            {commentsCount} pin{commentsCount !== 1 ? 's' : ''}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </header>\n    );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;;;;;;;;AAyBA,MAAM,eAAoD;IACtD,uBAAS,8OAAC,mNAAO;QAAC,WAAU;;;;;;IAC5B,sBAAQ,8OAAC,gNAAM;QAAC,WAAU;;;;;;IAC1B,sBAAQ,8OAAC,4NAAU;QAAC,WAAU;;;;;;AAClC;AAEO,SAAS,OAAO,EACnB,GAAG,EACH,UAAU,EACV,kBAAkB,EAClB,aAAa,EACb,mBAAmB,EACnB,aAAa,EACb,eAAe,KAAK,EACpB,OAAO,EACG;IACV,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa;QACf,OAAO,IAAI,CAAC;IAChB;IAEA,MAAM,eAAe,IAAI,MAAM,GAAG,KAAK,IAAI,KAAK,CAAC,GAAG,MAAM,QAAQ;IAElE,qBACI,8OAAC;QAAO,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,qIAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAO,SAAS;0CACzC,cAAA,8OAAC,6NAAS;oCAAC,WAAU;;;;;;;;;;;0CAEzB,8OAAC;gCAAK,WAAU;gCAAyC,OAAO;0CAC3D;;;;;;4BAEJ,8BACG,8OAAC;gCAAK,WAAU;0CAAkE;;;;;;;;;;;;kCAM1F,8OAAC;wBAAI,WAAU;;0CAEX,8OAAC,qJAAY;;kDACT,8OAAC,4JAAmB;wCAAC,OAAO;kDACxB,cAAA,8OAAC,qIAAM;4CAAC,SAAQ;4CAAU,MAAK;4CAAK,WAAU;;gDACzC,YAAY,CAAC,WAAW;8DACzB,8OAAC;oDAAK,WAAU;8DAAoB,WAAW,MAAM,CAAC,GAAG,WAAW,KAAK,WAAW,KAAK,CAAC;;;;;;8DAC1F,8OAAC,mOAAW;oDAAC,WAAU;;;;;;;;;;;;;;;;;kDAG/B,8OAAC,4JAAmB;wCAAC,OAAM;kDACtB,AAAC,OAAO,IAAI,CAAC,+HAAa,EAAmB,GAAG,CAAC,CAAC,qBAC/C,8OAAC,yJAAgB;gDAEb,SAAS,IAAM,mBAAmB;gDAClC,WAAU;;oDAET,YAAY,CAAC,KAAK;oDAClB,+HAAa,CAAC,KAAK;;+CALf;;;;;;;;;;;;;;;;4BAYpB,CAAC,8BACE,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,qIAAM;wCACH,SAAS,CAAC;wCACV,iBAAiB,IAAM,oBAAoB;wCAC3C,MAAK;wCACL,WAAU;;0DAEV,8OAAC,uMAAG;gDAAC,WAAU;;;;;;0DACf,8OAAC;gDAAK,WAAU;0DAAmB;;;;;;;;;;;;kDAEvC,8OAAC,qIAAM;wCACH,SAAS;wCACT,iBAAiB,IAAM,oBAAoB;wCAC3C,MAAK;wCACL,WAAU;;0DAEV,8OAAC,yOAAa;gDAAC,WAAU;;;;;;0DACzB,8OAAC;gDAAK,WAAU;0DAAmB;;;;;;;;;;;;;;;;;;4BAM9C,CAAC,gBAAgB,yBACd,8OAAC,qIAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;gCAAS,WAAU;;kDAC5D,8OAAC,oNAAM;wCAAC,WAAU;;;;;;kDAClB,8OAAC;wCAAK,WAAU;kDAAmB;;;;;;;;;;;;0CAK3C,8OAAC;gCAAI,WAAU;;oCACV;oCAAc;oCAAK,kBAAkB,IAAI,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5E"}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/review/PinsLayer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { Comment } from '@/types';\nimport { cn } from '@/lib/utils';\nimport { Move } from 'lucide-react';\n\ninterface PinsLayerProps {\n    comments: Comment[];\n    isCommentMode: boolean;\n    selectedCommentId: string | null;\n    hoveredCommentId: string | null;\n    onPinClick: (commentId: string) => void;\n    onPinHover: (commentId: string | null) => void;\n    onLayerClick: (e: React.MouseEvent<HTMLDivElement>) => void;\n    containerHeight: number;\n    isReadOnly?: boolean;\n    onPinMove?: (commentId: string, xPct: number, yPct: number) => void;\n    onAreaSelect?: (startX: number, startY: number, endX: number, endY: number) => void;\n}\n\ninterface DragState {\n    isDragging: boolean;\n    commentId: string | null;\n    startX: number;\n    startY: number;\n    offsetX: number;\n    offsetY: number;\n}\n\ninterface AreaSelectState {\n    isSelecting: boolean;\n    startX: number;\n    startY: number;\n    currentX: number;\n    currentY: number;\n}\n\nexport function PinsLayer({\n    comments,\n    isCommentMode,\n    selectedCommentId,\n    hoveredCommentId,\n    onPinClick,\n    onPinHover,\n    onLayerClick,\n    containerHeight,\n    isReadOnly = false,\n    onPinMove,\n    onAreaSelect,\n}: PinsLayerProps) {\n    const layerRef = useRef<HTMLDivElement>(null);\n    const [dragState, setDragState] = useState<DragState>({\n        isDragging: false,\n        commentId: null,\n        startX: 0,\n        startY: 0,\n        offsetX: 0,\n        offsetY: 0,\n    });\n    const [areaSelect, setAreaSelect] = useState<AreaSelectState>({\n        isSelecting: false,\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n    });\n\n    const getPositionFromEvent = useCallback((e: React.MouseEvent | MouseEvent) => {\n        if (!layerRef.current) return { xPct: 0, yPct: 0 };\n        const rect = layerRef.current.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        const xPct = (x / rect.width) * 100;\n        const yPct = (y / containerHeight) * 100;\n        return { xPct, yPct, x, y };\n    }, [containerHeight]);\n\n    // Handle pin drag start\n    const handlePinMouseDown = (e: React.MouseEvent, comment: Comment) => {\n        if (isReadOnly || !isCommentMode) return;\n        e.stopPropagation();\n        e.preventDefault();\n\n        const { xPct, yPct } = getPositionFromEvent(e);\n        setDragState({\n            isDragging: true,\n            commentId: comment.id,\n            startX: comment.xPct,\n            startY: comment.yPct,\n            offsetX: xPct - comment.xPct,\n            offsetY: yPct - comment.yPct,\n        });\n    };\n\n    // Handle area selection start\n    const handleLayerMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (!isCommentMode || isReadOnly) return;\n        if (e.target !== e.currentTarget) return;\n\n        const { xPct, yPct } = getPositionFromEvent(e);\n        setAreaSelect({\n            isSelecting: true,\n            startX: xPct,\n            startY: yPct,\n            currentX: xPct,\n            currentY: yPct,\n        });\n    };\n\n    // Handle mouse move for both dragging and area selection\n    const handleMouseMove = useCallback((e: React.MouseEvent) => {\n        const { xPct, yPct } = getPositionFromEvent(e);\n\n        if (dragState.isDragging && dragState.commentId) {\n            // Update pin position visually during drag\n            const pin = document.getElementById(`pin-${dragState.commentId}`);\n            if (pin) {\n                const newX = Math.max(0, Math.min(100, xPct - dragState.offsetX));\n                const newY = Math.max(0, Math.min(100, yPct - dragState.offsetY));\n                pin.style.left = `${newX}%`;\n                pin.style.top = `${newY}%`;\n            }\n        }\n\n        if (areaSelect.isSelecting) {\n            setAreaSelect(prev => ({\n                ...prev,\n                currentX: xPct,\n                currentY: yPct,\n            }));\n        }\n    }, [dragState, areaSelect.isSelecting, getPositionFromEvent]);\n\n    // Handle mouse up\n    const handleMouseUp = useCallback((e: React.MouseEvent) => {\n        const { xPct, yPct } = getPositionFromEvent(e);\n\n        // Finish pin drag\n        if (dragState.isDragging && dragState.commentId && onPinMove) {\n            const newX = Math.max(0, Math.min(100, xPct - dragState.offsetX));\n            const newY = Math.max(0, Math.min(100, yPct - dragState.offsetY));\n            onPinMove(dragState.commentId, newX, newY);\n        }\n\n        // Finish area selection\n        if (areaSelect.isSelecting && onAreaSelect) {\n            const width = Math.abs(areaSelect.currentX - areaSelect.startX);\n            const height = Math.abs(areaSelect.currentY - areaSelect.startY);\n\n            // Only create area if it's larger than a minimum size (avoid accidental clicks)\n            if (width > 1 && height > 1) {\n                const minX = Math.min(areaSelect.startX, areaSelect.currentX);\n                const minY = Math.min(areaSelect.startY, areaSelect.currentY);\n                onAreaSelect(minX, minY, width, height);\n            } else {\n                // It was a click, not a drag - create pin at this position\n                const { xPct, yPct } = getPositionFromEvent(e);\n                onLayerClick(e as unknown as React.MouseEvent<HTMLDivElement>);\n            }\n        }\n\n        setDragState({\n            isDragging: false,\n            commentId: null,\n            startX: 0,\n            startY: 0,\n            offsetX: 0,\n            offsetY: 0,\n        });\n        setAreaSelect({\n            isSelecting: false,\n            startX: 0,\n            startY: 0,\n            currentX: 0,\n            currentY: 0,\n        });\n    }, [dragState, areaSelect, onPinMove, onAreaSelect, onLayerClick, getPositionFromEvent]);\n\n    // Calculate area selection rectangle\n    const getAreaRect = () => {\n        if (!areaSelect.isSelecting) return null;\n        const left = Math.min(areaSelect.startX, areaSelect.currentX);\n        const top = Math.min(areaSelect.startY, areaSelect.currentY);\n        const width = Math.abs(areaSelect.currentX - areaSelect.startX);\n        const height = Math.abs(areaSelect.currentY - areaSelect.startY);\n        return { left, top, width, height };\n    };\n\n    const areaRect = getAreaRect();\n\n    return (\n        <div\n            ref={layerRef}\n            className={cn(\n                'pins-overlay',\n                isCommentMode && 'comment-mode'\n            )}\n            style={{ height: `${containerHeight}px` }}\n            onMouseDown={handleLayerMouseDown}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onMouseLeave={handleMouseUp}\n        >\n            {/* Area selection rectangle */}\n            {areaRect && areaRect.width > 0 && (\n                <div\n                    className=\"absolute border-2 border-primary bg-primary/20 rounded pointer-events-none\"\n                    style={{\n                        left: `${areaRect.left}%`,\n                        top: `${areaRect.top}%`,\n                        width: `${areaRect.width}%`,\n                        height: `${areaRect.height}%`,\n                    }}\n                />\n            )}\n\n            {/* Render comments (pins and areas) */}\n            {comments.map((comment, index) => (\n                comment.type === 'area' && comment.widthPct && comment.heightPct ? (\n                    // Area comment\n                    <div\n                        key={comment.id}\n                        id={`pin-${comment.id}`}\n                        className={cn(\n                            'absolute border-2 rounded cursor-pointer transition-all',\n                            comment.isResolved\n                                ? 'border-green-500 bg-green-500/10'\n                                : 'border-primary bg-primary/10',\n                            selectedCommentId === comment.id && (comment.isResolved ? 'ring-2 ring-green-500 ring-offset-2 bg-green-500/20' : 'ring-2 ring-ring ring-offset-2 bg-primary/20'),\n                            hoveredCommentId === comment.id && (comment.isResolved ? 'bg-green-500/20' : 'bg-primary/20')\n                        )}\n                        style={{\n                            left: `${comment.xPct}%`,\n                            top: `${comment.yPct}%`,\n                            width: `${comment.widthPct}%`,\n                            height: `${comment.heightPct}%`,\n                            pointerEvents: 'auto',\n                        }}\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            onPinClick(comment.id);\n                        }}\n                        onMouseEnter={() => onPinHover(comment.id)}\n                        onMouseLeave={() => onPinHover(null)}\n                    >\n                        <div\n                            className={cn(\n                                'absolute -top-3 -left-3 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold',\n                                comment.isResolved\n                                    ? 'bg-green-500 text-white'\n                                    : 'bg-primary text-primary-foreground'\n                            )}\n                            onMouseDown={(e) => handlePinMouseDown(e, comment)}\n                        >\n                            {index + 1}\n                        </div>\n                    </div>\n                ) : (\n                    // Pin comment\n                    <div\n                        key={comment.id}\n                        id={`pin-${comment.id}`}\n                        className={cn(\n                            'pin',\n                            comment.isResolved && 'resolved',\n                            selectedCommentId === comment.id && 'active',\n                            hoveredCommentId === comment.id && 'highlighted',\n                            isCommentMode && !isReadOnly && 'cursor-move'\n                        )}\n                        style={{\n                            left: `${comment.xPct}%`,\n                            top: `${comment.yPct}%`,\n                        }}\n                        onClick={(e) => {\n                            if (!dragState.isDragging) {\n                                e.stopPropagation();\n                                onPinClick(comment.id);\n                            }\n                        }}\n                        onMouseDown={(e) => handlePinMouseDown(e, comment)}\n                        onMouseEnter={() => onPinHover(comment.id)}\n                        onMouseLeave={() => onPinHover(null)}\n                    >\n                        {index + 1}\n                    </div>\n                )\n            ))}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/lib/positionCalculator.ts"],"sourcesContent":["export interface PercentagePosition {\n    xPct: number;\n    yPct: number;\n}\n\nexport function calculatePercentagePosition(\n    clickX: number,\n    clickY: number,\n    containerWidth: number,\n    containerHeight: number\n): PercentagePosition {\n    const xPct = (clickX / containerWidth) * 100;\n    const yPct = (clickY / containerHeight) * 100;\n\n    return {\n        xPct: Math.max(0, Math.min(100, xPct)),\n        yPct: Math.max(0, Math.min(100, yPct)),\n    };\n}\n\nexport function getPixelPosition(\n    xPct: number,\n    yPct: number,\n    containerWidth: number,\n    containerHeight: number\n): { x: number; y: number } {\n    return {\n        x: (xPct / 100) * containerWidth,\n        y: (yPct / 100) * containerHeight,\n    };\n}\n"],"names":[],"mappings":";;;;;;AAKO,SAAS,4BACZ,MAAc,EACd,MAAc,EACd,cAAsB,EACtB,eAAuB;IAEvB,MAAM,OAAO,AAAC,SAAS,iBAAkB;IACzC,MAAM,OAAO,AAAC,SAAS,kBAAmB;IAE1C,OAAO;QACH,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;QAChC,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;IACpC;AACJ;AAEO,SAAS,iBACZ,IAAY,EACZ,IAAY,EACZ,cAAsB,EACtB,eAAuB;IAEvB,OAAO;QACH,GAAG,AAAC,OAAO,MAAO;QAClB,GAAG,AAAC,OAAO,MAAO;IACtB;AACJ"}},
    {"offset": {"line": 1328, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/review/IframeContainer.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useState } from 'react';\nimport { DeviceMode, DEVICE_WIDTHS, Comment } from '@/types';\nimport { PinsLayer } from './PinsLayer';\nimport { calculatePercentagePosition } from '@/lib/positionCalculator';\nimport { AlertCircle } from 'lucide-react';\n\ninterface IframeContainerProps {\n    url: string;\n    deviceMode: DeviceMode;\n    comments: Comment[];\n    isCommentMode: boolean;\n    selectedCommentId: string | null;\n    hoveredCommentId: string | null;\n    onPinClick: (commentId: string) => void;\n    onPinHover: (commentId: string | null) => void;\n    onAddPin: (xPct: number, yPct: number) => void;\n    onAddArea?: (xPct: number, yPct: number, widthPct: number, heightPct: number) => void;\n    onPinMove?: (commentId: string, xPct: number, yPct: number) => void;\n    isReadOnly?: boolean;\n}\n\n// Large height to show full page content - the outer container handles scrolling\nconst IFRAME_HEIGHT = 8000;\n\nexport function IframeContainer({\n    url,\n    deviceMode,\n    comments,\n    isCommentMode,\n    selectedCommentId,\n    hoveredCommentId,\n    onPinClick,\n    onPinHover,\n    onAddPin,\n    onAddArea,\n    onPinMove,\n    isReadOnly = false,\n}: IframeContainerProps) {\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n    const contentRef = useRef<HTMLDivElement>(null);\n    const [iframeError, setIframeError] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n\n    const width = DEVICE_WIDTHS[deviceMode];\n    const filteredComments = comments.filter(c => c.deviceMode === deviceMode);\n\n    const handleLayerClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (!contentRef.current || !isCommentMode || isReadOnly) return;\n\n        const rect = contentRef.current.getBoundingClientRect();\n        const scrollTop = scrollContainerRef.current?.scrollTop || 0;\n\n        const clickX = e.clientX - rect.left;\n        const clickY = e.clientY - rect.top + scrollTop;\n\n        // Calculate percentage relative to the full content height\n        const { xPct, yPct } = calculatePercentagePosition(\n            clickX,\n            clickY,\n            rect.width,\n            IFRAME_HEIGHT\n        );\n\n        onAddPin(xPct, yPct);\n    };\n\n    const handleAreaSelect = (startX: number, startY: number, width: number, height: number) => {\n        if (onAddArea && !isReadOnly) {\n            onAddArea(startX, startY, width, height);\n        }\n    };\n\n    // Handle wheel events on the scroll blocker to scroll the container\n    const handleWheel = (e: React.WheelEvent) => {\n        if (scrollContainerRef.current) {\n            scrollContainerRef.current.scrollTop += e.deltaY;\n            scrollContainerRef.current.scrollLeft += e.deltaX;\n        }\n    };\n\n    return (\n        <div className=\"flex-1 overflow-hidden p-4 flex justify-center\">\n            {/* Viewport container */}\n            <div\n                className=\"iframe-container relative\"\n                style={{\n                    width: `${width}px`,\n                    maxWidth: '100%',\n                    height: 'calc(100vh - 180px)',\n                }}\n            >\n                {/* Scrollable container - THIS handles all scrolling */}\n                <div\n                    ref={scrollContainerRef}\n                    className=\"overflow-auto h-full w-full\"\n                >\n                    {/* Scrollable content area with fixed height */}\n                    <div\n                        ref={contentRef}\n                        style={{\n                            position: 'relative',\n                            width: '100%',\n                            height: `${IFRAME_HEIGHT}px`,\n                        }}\n                    >\n                        {/* Pins Layer - absolute positioned within scrollable content */}\n                        <PinsLayer\n                            comments={filteredComments}\n                            isCommentMode={isCommentMode}\n                            selectedCommentId={selectedCommentId}\n                            hoveredCommentId={hoveredCommentId}\n                            onPinClick={onPinClick}\n                            onPinHover={onPinHover}\n                            onLayerClick={handleLayerClick}\n                            containerHeight={IFRAME_HEIGHT}\n                            isReadOnly={isReadOnly}\n                            onPinMove={onPinMove}\n                            onAreaSelect={handleAreaSelect}\n                        />\n\n                        {/* Scroll blocker overlay - intercepts scroll and forwards to container */}\n                        <div\n                            className=\"absolute inset-0 z-5\"\n                            style={{\n                                pointerEvents: isCommentMode ? 'none' : 'auto',\n                                cursor: 'default',\n                            }}\n                            onWheel={handleWheel}\n                        />\n\n                        {/* Iframe with scrolling disabled */}\n                        <iframe\n                            src={url}\n                            className=\"w-full border-0 absolute inset-0\"\n                            style={{\n                                height: `${IFRAME_HEIGHT}px`,\n                                pointerEvents: 'none',\n                            }}\n                            scrolling=\"no\"\n                            onLoad={() => setIsLoading(false)}\n                            onError={() => {\n                                setIsLoading(false);\n                                setIframeError(true);\n                            }}\n                            sandbox=\"allow-same-origin allow-scripts allow-forms\"\n                            referrerPolicy=\"no-referrer\"\n                        />\n                    </div>\n                </div>\n\n                {/* Loading State - overlaid on viewport */}\n                {isLoading && !iframeError && (\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-muted/50 z-20 pointer-events-none\">\n                        <div className=\"flex items-center gap-2 text-muted-foreground\">\n                            <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n                            Loading...\n                        </div>\n                    </div>\n                )}\n\n                {/* Error State */}\n                {iframeError && (\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-muted z-20\">\n                        <div className=\"text-center p-8\">\n                            <AlertCircle className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                            <h3 className=\"font-semibold mb-2\">Unable to load website</h3>\n                            <p className=\"text-sm text-muted-foreground max-w-md\">\n                                This website may block embedding in an iframe.\n                                Try opening it directly or use a different URL.\n                            </p>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1536, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1560, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,8OAAC,0KAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,6KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,8OAAC,2KAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,4KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,6KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,yMAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,2KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,iLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1738, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,0KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8OAAC,6KAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,4KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,8OAAC;QAAa,aAAU;;0BACtB,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,8OAAC,2KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,8OAAC,yMAAK;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8OAAC,iLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1920, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/review/CommentsSidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { Comment } from '@/types';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n    Sheet,\n    SheetContent,\n    SheetHeader,\n    SheetTitle,\n} from '@/components/ui/sheet';\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogFooter,\n    DialogHeader,\n    DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { cn } from '@/lib/utils';\nimport {\n    Trash2,\n    MessageSquare,\n    Send,\n    MoreVertical,\n    Pencil,\n    Check,\n    X,\n    CheckCircle2,\n    Square,\n    MapPin,\n    ShieldCheck\n} from 'lucide-react';\n\ninterface CommentsSidebarProps {\n    comments: Comment[];\n    isOpen: boolean;\n    onClose: () => void;\n    selectedCommentId: string | null;\n    hoveredCommentId: string | null;\n    onCommentSelect: (commentId: string) => void;\n    onCommentHover: (commentId: string | null) => void;\n    onCommentUpdate: (commentId: string, text: string) => void;\n    onCommentDelete: (commentId: string) => void;\n    onToggleResolved?: (commentId: string) => void;\n    onToggleResolvedViewer?: (commentId: string) => void;\n    onToggleResolvedCommenter?: (commentId: string) => void;\n    currentUserRole?: 'viewer' | 'commenter';\n    isReadOnly?: boolean;\n}\n\nexport function CommentsSidebar({\n    comments,\n    isOpen,\n    onClose,\n    selectedCommentId,\n    hoveredCommentId,\n    onCommentSelect,\n    onCommentHover,\n    onCommentUpdate,\n    onCommentDelete,\n    onToggleResolved,\n    onToggleResolvedViewer,\n    onToggleResolvedCommenter,\n    currentUserRole = 'viewer',\n    isReadOnly = false,\n}: CommentsSidebarProps) {\n    const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null);\n    const [editingId, setEditingId] = useState<string | null>(null);\n    const [editText, setEditText] = useState('');\n    const [newCommentText, setNewCommentText] = useState<Record<string, string>>({});\n    const textareaRefs = useRef<Record<string, HTMLTextAreaElement | null>>({});\n\n    // Reset editing state when sidebar closes\n    useEffect(() => {\n        if (!isOpen) {\n            setEditingId(null);\n            setEditText('');\n        }\n    }, [isOpen]);\n\n    // Focus textarea when editing starts\n    useEffect(() => {\n        if (editingId && textareaRefs.current[editingId]) {\n            textareaRefs.current[editingId]?.focus();\n        }\n    }, [editingId]);\n\n    const handleDelete = () => {\n        if (deleteConfirmId) {\n            onCommentDelete(deleteConfirmId);\n            setDeleteConfirmId(null);\n        }\n    };\n\n    const handleStartEdit = (comment: Comment) => {\n        setEditingId(comment.id);\n        setEditText(comment.text);\n    };\n\n    const handleSaveEdit = (commentId: string) => {\n        onCommentUpdate(commentId, editText);\n        setEditingId(null);\n        setEditText('');\n    };\n\n    const handleCancelEdit = () => {\n        setEditingId(null);\n        setEditText('');\n    };\n\n    const handleSendNewComment = (commentId: string) => {\n        const text = newCommentText[commentId]?.trim();\n        if (text) {\n            onCommentUpdate(commentId, text);\n            setNewCommentText(prev => ({ ...prev, [commentId]: '' }));\n        }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent, commentId: string, isEditing: boolean) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            if (isEditing) {\n                handleSaveEdit(commentId);\n            } else {\n                handleSendNewComment(commentId);\n            }\n        }\n        if (e.key === 'Escape' && isEditing) {\n            handleCancelEdit();\n        }\n    };\n\n    const resolvedCount = comments.filter(c => c.isResolved).length;\n\n    return (\n        <>\n            <Sheet open={isOpen} onOpenChange={(open) => !open && onClose()}>\n                <SheetContent className=\"w-[380px] sm:w-[420px] p-0 flex flex-col\">\n                    <SheetHeader className=\"p-4 border-b shrink-0\">\n                        <SheetTitle className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-2\">\n                                <MessageSquare className=\"h-4 w-4\" />\n                                <span>Comments ({comments.length})</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm font-normal\">\n                                {resolvedCount > 0 && (\n                                    <span className=\"text-green-600 flex items-center gap-1\">\n                                        <CheckCircle2 className=\"h-3 w-3\" />\n                                        {resolvedCount} resolved\n                                    </span>\n                                )}\n                                {isReadOnly && (\n                                    <span className=\"text-xs bg-muted px-2 py-0.5 rounded-full text-muted-foreground\">\n                                        View Only\n                                    </span>\n                                )}\n                            </div>\n                        </SheetTitle>\n                    </SheetHeader>\n\n                    <div className=\"flex-1 overflow-y-auto\">\n                        {comments.length === 0 ? (\n                            <div className=\"p-6 text-center text-muted-foreground\">\n                                <MessageSquare className=\"h-12 w-12 mx-auto mb-3 opacity-20\" />\n                                <p className=\"font-medium\">No comments yet</p>\n                                {!isReadOnly && (\n                                    <p className=\"text-sm mt-1\">\n                                        Switch to Comment mode and click on the page to add feedback.\n                                    </p>\n                                )}\n                            </div>\n                        ) : (\n                            <div className=\"divide-y\">\n                                {comments.map((comment, index) => {\n                                    const isEditing = editingId === comment.id;\n                                    const hasText = comment.text.trim().length > 0;\n                                    const isNewComment = !hasText && !isEditing;\n\n                                    return (\n                                        <div\n                                            key={comment.id}\n                                            className={cn(\n                                                \"border rounded-lg p-3 group transition-all duration-200\",\n                                                selectedCommentId === comment.id ? \"ring-2 ring-primary border-primary\" : \"border-border\",\n                                                hoveredCommentId === comment.id && \"bg-muted/50\",\n                                                comment.resolvedByCommenter && \"bg-green-50/50 border-green-200 dark:bg-green-900/10 dark:border-green-800/30\"\n                                            )}\n                                            onClick={() => {\n                                                onCommentSelect(comment.id);\n                                                if (comment.deviceMode !== 'desktop') {\n                                                    // Handle device switching upstream if needed\n                                                }\n                                            }}\n                                            onMouseEnter={() => onCommentHover(comment.id)}\n                                            onMouseLeave={() => onCommentHover(null)}\n                                        >\n                                            <div className=\"flex justify-between items-start mb-2\">\n                                                <span className=\"font-medium text-xs text-muted-foreground\">\n                                                    #{index + 1}\n                                                </span>\n\n                                                {/* Action Buttons Container */}\n                                                <div className=\"flex items-center gap-2\">\n                                                    {!isReadOnly && (\n                                                        <>\n                                                            {/* Viewer (Fixed) Toggle */}\n                                                            {currentUserRole === 'viewer' && onToggleResolvedViewer && (\n                                                                <Button\n                                                                    variant={comment.resolvedByViewer ? \"secondary\" : \"outline\"}\n                                                                    size=\"sm\"\n                                                                    onClick={(e) => {\n                                                                        e.stopPropagation();\n                                                                        onToggleResolvedViewer(comment.id);\n                                                                    }}\n                                                                    className={cn(\n                                                                        \"h-6 text-[10px] gap-1 px-2\",\n                                                                        comment.resolvedByViewer && \"bg-muted text-muted-foreground hover:bg-muted/80\"\n                                                                    )}\n                                                                >\n                                                                    <Check className=\"h-3 w-3\" />\n                                                                    {comment.resolvedByViewer ? \"Fixed\" : \"Mark Fixed\"}\n                                                                </Button>\n                                                            )}\n\n                                                            {/* Commenter (Resolve) Toggle */}\n                                                            {currentUserRole === 'commenter' && onToggleResolvedCommenter && (\n                                                                <Button\n                                                                    variant={comment.resolvedByCommenter ? \"default\" : \"outline\"}\n                                                                    size=\"sm\"\n                                                                    onClick={(e) => {\n                                                                        e.stopPropagation();\n                                                                        onToggleResolvedCommenter(comment.id);\n                                                                    }}\n                                                                    className={cn(\n                                                                        \"h-6 text-[10px] gap-1 px-2 transition-colors\",\n                                                                        comment.resolvedByCommenter\n                                                                            ? \"bg-green-600 hover:bg-green-700 text-white border-transparent\"\n                                                                            : \"border-green-600/30 text-green-700 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20\"\n                                                                    )}\n                                                                >\n                                                                    <Check className=\"h-3 w-3\" />\n                                                                    {comment.resolvedByCommenter ? \"Resolved\" : \"Resolve\"}\n                                                                </Button>\n                                                            )}\n\n                                                            {/* Edit/Delete Dropdown - Only show if not fully resolved or if user has permission */}\n                                                            <DropdownMenu>\n                                                                <DropdownMenuTrigger asChild>\n                                                                    <Button\n                                                                        variant=\"ghost\"\n                                                                        size=\"icon\"\n                                                                        className=\"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                                                        onClick={(e) => e.stopPropagation()}\n                                                                    >\n                                                                        <MoreVertical className=\"h-3 w-3\" />\n                                                                    </Button>\n                                                                </DropdownMenuTrigger>\n                                                                <DropdownMenuContent align=\"end\">\n                                                                    <DropdownMenuItem onClick={() => setEditingId(comment.id)}>\n                                                                        <Pencil className=\"h-3.5 w-3.5 mr-2\" />\n                                                                        Edit\n                                                                    </DropdownMenuItem>\n                                                                    <DropdownMenuItem\n                                                                        className=\"text-destructive focus:text-destructive\"\n                                                                        onClick={() => setDeleteConfirmId(comment.id)}\n                                                                    >\n                                                                        <Trash2 className=\"h-3.5 w-3.5 mr-2\" />\n                                                                        Delete\n                                                                    </DropdownMenuItem>\n                                                                </DropdownMenuContent>\n                                                            </DropdownMenu>\n                                                        </>\n                                                    )}\n                                                </div>\n                                            </div>\n\n                                            {/* Comment Content */}\n                                            <div className=\"text-sm\">\n                                                {editingId === comment.id ? (\n                                                    // Edit Mode\n                                                    <div className=\"flex gap-2\" onClick={e => e.stopPropagation()}>\n                                                        <Textarea\n                                                            value={editText}\n                                                            onChange={(e) => setEditText(e.target.value)}\n                                                            className=\"min-h-[60px] text-sm resize-none flex-1\"\n                                                            autoFocus\n                                                        />\n                                                        <div className=\"flex flex-col gap-1\">\n                                                            <Button\n                                                                size=\"sm\"\n                                                                onClick={(e) => {\n                                                                    e.stopPropagation();\n                                                                    handleSaveEdit(comment.id);\n                                                                }}\n                                                            >\n                                                                <Check className=\"h-3 w-3\" />\n                                                            </Button>\n                                                            <Button\n                                                                size=\"sm\"\n                                                                variant=\"ghost\"\n                                                                onClick={(e) => {\n                                                                    e.stopPropagation();\n                                                                    setEditingId(null);\n                                                                }}\n                                                            >\n                                                                <X className=\"h-3 w-3\" />\n                                                            </Button>\n                                                        </div>\n                                                    </div>\n                                                ) : isNewComment && !isReadOnly ? (\n                                                    // New Comment Input\n                                                    <div className=\"flex gap-2\">\n                                                        <Textarea\n                                                            value={newCommentText[comment.id] || ''}\n                                                            onChange={(e) => setNewCommentText(prev => ({\n                                                                ...prev,\n                                                                [comment.id]: e.target.value\n                                                            }))}\n                                                            onKeyDown={(e) => handleKeyDown(e, comment.id, false)}\n                                                            onClick={(e) => e.stopPropagation()}\n                                                            placeholder=\"Add your comment...\"\n                                                            className=\"min-h-[60px] text-sm resize-none flex-1\"\n                                                        />\n                                                        <Button\n                                                            size=\"icon\"\n                                                            className=\"shrink-0 self-end\"\n                                                            onClick={(e) => {\n                                                                e.stopPropagation();\n                                                                handleSendNewComment(comment.id);\n                                                            }}\n                                                            disabled={!newCommentText[comment.id]?.trim()}\n                                                        >\n                                                            <Send className=\"h-4 w-4\" />\n                                                        </Button>\n                                                    </div>\n                                                ) : (\n                                                    // Display Mode\n                                                    <p className={cn(\n                                                        'whitespace-pre-wrap',\n                                                        comment.resolvedByCommenter && \"text-green-900 dark:text-green-100\"\n                                                    )}>\n                                                        {comment.text}\n                                                    </p>\n                                                )}\n                                            </div>\n\n                                            {/* Status Indicators */}\n                                            <div className=\"mt-2 flex flex-col gap-1\">\n                                                {comment.resolvedByViewer && !comment.resolvedByCommenter && (\n                                                    <p className=\"text-[10px] text-muted-foreground flex items-center\">\n                                                        <Check className=\"h-3 w-3 mr-1\" />\n                                                        Marked as fixed by developer\n                                                    </p>\n                                                )}\n                                                {comment.resolvedByCommenter && (\n                                                    <p className=\"text-[10px] text-green-600 dark:text-green-400 font-medium flex items-center\">\n                                                        <Check className=\"h-3 w-3 mr-1\" />\n                                                        Resolved by client\n                                                    </p>\n                                                )}\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        )}\n                    </div>\n                </SheetContent>\n            </Sheet>\n\n            {/* Delete Confirmation Dialog */}\n            <Dialog open={!!deleteConfirmId} onOpenChange={(open) => !open && setDeleteConfirmId(null)}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle>Delete Comment</DialogTitle>\n                        <DialogDescription>\n                            Are you sure you want to delete this comment? This action cannot be undone.\n                        </DialogDescription>\n                    </DialogHeader>\n                    <DialogFooter>\n                        <Button variant=\"outline\" onClick={() => setDeleteConfirmId(null)}>\n                            Cancel\n                        </Button>\n                        <Button variant=\"destructive\" onClick={handleDelete}>\n                            Delete\n                        </Button>\n                    </DialogFooter>\n                </DialogContent>\n            </Dialog>\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2573, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n    React.ElementRef<typeof SwitchPrimitives.Root>,\n    React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n    <SwitchPrimitives.Root\n        className={cn(\n            \"peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n            className\n        )}\n        {...props}\n        ref={ref}\n    >\n        <SwitchPrimitives.Thumb\n            className={cn(\n                \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n            )}\n        />\n    </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,0KAAqB;QAClB,WAAW,IAAA,kHAAE,EACT,+XACA;QAEH,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,2KAAsB;YACnB,WAAW,IAAA,kHAAE,EACT;;;;;;;;;;;AAKhB,OAAO,WAAW,GAAG,0KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 2608, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitives from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n    \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n    React.ElementRef<typeof LabelPrimitives.Root>,\n    React.ComponentPropsWithoutRef<typeof LabelPrimitives.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n    <LabelPrimitives.Root\n        ref={ref}\n        className={cn(labelVariants(), className)}\n        {...props}\n    />\n))\nLabel.displayName = LabelPrimitives.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACrB;AAGJ,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,yKAAoB;QACjB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGjB,MAAM,WAAW,GAAG,yKAAoB,CAAC,WAAW"}},
    {"offset": {"line": 2639, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2664, "column": 0}, "map": {"version":3,"sources":["file:///Users/deepakmaurya/Downloads/Feedbacktool/app/review/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, use, useMemo } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useProjectsStore } from '@/hooks/useProjectsStore';\nimport { TopBar } from '@/components/review/TopBar';\nimport { IframeContainer } from '@/components/review/IframeContainer';\nimport { CommentsSidebar } from '@/components/review/CommentsSidebar';\nimport { DeviceMode, Comment, Project } from '@/types';\nimport { Button } from '@/components/ui/button';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { MessageSquare, Share2, Check, Copy } from 'lucide-react';\nimport {\n    Dialog,\n    DialogContent,\n    DialogDescription,\n    DialogHeader,\n    DialogTitle,\n} from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\n\ninterface ReviewPageProps {\n    params: Promise<{ id: string }>;\n}\n\n// Encode project data for sharing\nfunction encodeProjectData(project: Project): string {\n    const data = {\n        url: project.url,\n        comments: project.comments.map(c => ({\n            id: c.id,\n            type: c.type || 'pin',\n            xPct: c.xPct,\n            yPct: c.yPct,\n            widthPct: c.widthPct,\n            heightPct: c.heightPct,\n            text: c.text,\n            deviceMode: c.deviceMode,\n            isResolved: c.isResolved || false,\n        })),\n    };\n    return btoa(encodeURIComponent(JSON.stringify(data)));\n}\n\n// Decode shared project data\nfunction decodeProjectData(encoded: string): { url: string; comments: Comment[] } | null {\n    try {\n        const json = decodeURIComponent(atob(encoded));\n        const data = JSON.parse(json);\n        return {\n            url: data.url,\n            comments: data.comments.map((c: any) => ({\n                ...c,\n                type: c.type || 'pin',\n                isResolved: c.isResolved || false,\n                createdAt: new Date().toISOString(),\n            })),\n        };\n    } catch {\n        return null;\n    }\n}\n\nexport default function ReviewPage({ params }: ReviewPageProps) {\n    const { id } = use(params);\n    const router = useRouter();\n    const searchParams = useSearchParams();\n\n    const initializeStore = useProjectsStore(state => state.initializeStore);\n    const getProject = useProjectsStore(state => state.getProject);\n    const addComment = useProjectsStore(state => state.addComment);\n    const updateComment = useProjectsStore(state => state.updateComment);\n    const moveComment = useProjectsStore(state => state.moveComment);\n    const toggleResolved = useProjectsStore(state => state.toggleResolved);\n    const deleteComment = useProjectsStore(state => state.deleteComment);\n    const toggleResolvedViewer = useProjectsStore(state => state.toggleResolvedViewer);\n    const toggleResolvedCommenter = useProjectsStore(state => state.toggleResolvedCommenter);\n    const initialized = useProjectsStore(state => state.initialized);\n\n    const [deviceMode, setDeviceMode] = useState<DeviceMode>('desktop');\n    const [isCommentMode, setIsCommentMode] = useState(false);\n    const [selectedCommentId, setSelectedCommentId] = useState<string | null>(null);\n    const [hoveredCommentId, setHoveredCommentId] = useState<string | null>(null);\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n    const [isShareDialogOpen, setIsShareDialogOpen] = useState(false);\n    const [copied, setCopied] = useState(false);\n    const [shareAsCommenter, setShareAsCommenter] = useState(false);\n    // Local state for shared view comments (allows resolved toggling without store)\n    const [sharedComments, setSharedComments] = useState<Comment[]>([]);\n\n    // Check if viewing shared data\n    const sharedData = searchParams.get('shared');\n    const sharedProject = useMemo(() => {\n        if (sharedData) {\n            return decodeProjectData(sharedData);\n        }\n        return null;\n    }, [sharedData]);\n\n    const isSharedView = !!sharedProject;\n\n    // Initialize shared comments from decoded data\n    useEffect(() => {\n        if (sharedProject && sharedComments.length === 0) {\n            setSharedComments(sharedProject.comments);\n        }\n    }, [sharedProject, sharedComments.length]);\n\n    useEffect(() => {\n        if (!isSharedView) {\n            initializeStore();\n        }\n    }, [initializeStore, isSharedView]);\n\n    const project = isSharedView\n        ? { id: 'shared', url: sharedProject!.url, comments: sharedComments.length > 0 ? sharedComments : sharedProject!.comments, createdAt: '', updatedAt: '' }\n        : (initialized ? getProject(id) : null);\n\n    useEffect(() => {\n        if (!isSharedView && initialized && !project) {\n            router.push('/');\n        }\n    }, [initialized, project, router, isSharedView]);\n\n    if (!isSharedView && !initialized) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center\">\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n                    Loading...\n                </div>\n            </div>\n        );\n    }\n\n    if (!project) {\n        return null;\n    }\n\n    const handleAddPin = async (xPct: number, yPct: number) => {\n        if (isSharedView) return;\n        const commentId = await addComment(id, {\n            type: 'pin',\n            xPct,\n            yPct,\n            deviceMode,\n        });\n        setSelectedCommentId(commentId);\n        setIsSidebarOpen(true);\n    };\n\n    const handleAddArea = async (xPct: number, yPct: number, widthPct: number, heightPct: number) => {\n        if (isSharedView) return;\n        const commentId = await addComment(id, {\n            type: 'area',\n            xPct,\n            yPct,\n            widthPct,\n            heightPct,\n            deviceMode,\n        });\n        setSelectedCommentId(commentId);\n        setIsSidebarOpen(true);\n    };\n\n    const handlePinMove = (commentId: string, xPct: number, yPct: number) => {\n        if (isSharedView) return;\n        moveComment(id, commentId, xPct, yPct);\n    };\n\n    const handlePinClick = (commentId: string) => {\n        setSelectedCommentId(commentId);\n        setIsSidebarOpen(true);\n    };\n\n    const handleCommentUpdate = (commentId: string, text: string) => {\n        if (isSharedView) return;\n        updateComment(id, commentId, text);\n    };\n\n    const handleCommentDelete = (commentId: string) => {\n        if (isSharedView) return;\n        deleteComment(id, commentId);\n        if (selectedCommentId === commentId) {\n            setSelectedCommentId(null);\n        }\n    };\n\n    const handleToggleResolved = (commentId: string) => {\n        if (isSharedView) {\n            // For shared view, update local state\n            setSharedComments(prev =>\n                prev.map(c =>\n                    c.id === commentId ? { ...c, isResolved: !c.isResolved } : c\n                )\n            );\n        } else {\n            toggleResolved(id, commentId);\n        }\n    };\n\n    const handleToggleResolvedViewer = (commentId: string) => {\n        if (isSharedView) {\n            setSharedComments(prev =>\n                prev.map(c =>\n                    c.id === commentId ? { ...c, resolvedByViewer: !c.resolvedByViewer } : c\n                )\n            );\n        } else {\n            toggleResolvedViewer(id, commentId);\n        }\n    }\n\n    const handleToggleResolvedCommenter = (commentId: string) => {\n        if (isSharedView) {\n            setSharedComments(prev =>\n                prev.map(c =>\n                    c.id === commentId ? { ...c, resolvedByCommenter: !c.resolvedByCommenter } : c\n                )\n            );\n        } else {\n            toggleResolvedCommenter(id, commentId);\n        }\n    }\n\n    const roleParam = searchParams.get('role');\n    const currentUserRole = roleParam === 'commenter' ? 'commenter' : 'viewer';\n\n    const handleShare = () => {\n        setIsShareDialogOpen(true);\n        setCopied(false);\n        setShareAsCommenter(false);\n    };\n\n    const getShareUrl = () => {\n        if (typeof window === 'undefined') return '';\n        const baseUrl = `${window.location.origin}/review/${id}`;\n        return shareAsCommenter ? `${baseUrl}?role=commenter` : baseUrl;\n    };\n\n    const handleCopyLink = async () => {\n        const url = getShareUrl();\n        await navigator.clipboard.writeText(url);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n    };\n\n    const filteredComments = project.comments.filter(c => c.deviceMode === deviceMode);\n\n    return (\n        <div className=\"min-h-screen flex flex-col bg-background\">\n            <TopBar\n                url={project.url}\n                deviceMode={deviceMode}\n                onDeviceModeChange={setDeviceMode}\n                isCommentMode={isCommentMode}\n                onCommentModeChange={isSharedView ? () => { } : setIsCommentMode}\n                commentsCount={project.comments.length}\n                isSharedView={isSharedView}\n                onShare={handleShare}\n            />\n\n            <div className=\"flex-1 flex\">\n                <IframeContainer\n                    url={project.url}\n                    deviceMode={deviceMode}\n                    comments={project.comments}\n                    isCommentMode={isCommentMode && !isSharedView}\n                    selectedCommentId={selectedCommentId}\n                    hoveredCommentId={hoveredCommentId}\n                    onPinClick={handlePinClick}\n                    onPinHover={setHoveredCommentId}\n                    onAddPin={handleAddPin}\n                    onAddArea={handleAddArea}\n                    onPinMove={handlePinMove}\n                    isReadOnly={isSharedView}\n                />\n\n                {/* Sidebar Toggle Button */}\n                <div className=\"fixed bottom-4 right-4 z-40\">\n                    <Button\n                        size=\"lg\"\n                        className=\"rounded-full shadow-lg gap-2\"\n                        onClick={() => setIsSidebarOpen(true)}\n                    >\n                        <MessageSquare className=\"h-4 w-4\" />\n                        {filteredComments.length}\n                    </Button>\n                </div>\n            </div>\n\n            <CommentsSidebar\n                comments={filteredComments}\n                isOpen={isSidebarOpen}\n                onClose={() => setIsSidebarOpen(false)}\n                selectedCommentId={selectedCommentId}\n                hoveredCommentId={hoveredCommentId}\n                onCommentSelect={setSelectedCommentId}\n                onCommentHover={setHoveredCommentId}\n                onCommentUpdate={handleCommentUpdate}\n                onCommentDelete={handleCommentDelete}\n                onToggleResolved={handleToggleResolved}\n                onToggleResolvedViewer={handleToggleResolvedViewer}\n                onToggleResolvedCommenter={handleToggleResolvedCommenter}\n                currentUserRole={currentUserRole}\n                isReadOnly={isSharedView}\n            />\n\n            {/* Share Dialog */}\n            <Dialog open={isShareDialogOpen} onOpenChange={setIsShareDialogOpen}>\n                <DialogContent>\n                    <DialogHeader>\n                        <DialogTitle className=\"flex items-center gap-2\">\n                            <Share2 className=\"h-4 w-4\" />\n                            Share Review\n                        </DialogTitle>\n                        <DialogDescription>\n                            Share this link to collaborate in real-time.\n                        </DialogDescription>\n                    </DialogHeader>\n\n                    <div className=\"flex items-center space-x-2 py-4\">\n                        <Switch\n                            id=\"role-mode\"\n                            checked={shareAsCommenter}\n                            onCheckedChange={setShareAsCommenter}\n                        />\n                        <Label htmlFor=\"role-mode\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                            Allow Client Resolution\n                        </Label>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                        <Input\n                            value={getShareUrl()}\n                            readOnly\n                            className=\"text-sm\"\n                        />\n                        <Button onClick={handleCopyLink} variant=\"outline\" size=\"icon\">\n                            {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                        </Button>\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n\n"],"names":[],"mappings":"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"}}]
}